{"version":3,"sources":["index.js"],"names":["apiKey","searchCity","city","apiUrl","console","log","axios","get","then","showWeather","formatDay","timestamp","date","Date","days","day","getDay","displayForecast","response","forecastElement","document","getElementById","forecast","data","daily","forecastHtml","forEach","forecastDay","index","time","condition","icon","Math","round","temperature","minimum","maximum","innerHTML","getForecast","coordinates","longitude","latitude","querySelector","current","description","humidity","wind","speed","showCity","event","preventDefault","value","getThisPosition","navigator","geolocation","getCurrentPosition","position","coords","fahrenheit","addEventListener","celsiusToFahrenheit","classList","add","celsius","remove","hour","getHours","minute","getMinutes","fullTime","form","toLocaleDateString","weekday"],"mappings":"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","sourcesContent":["let apiKey = \"ff304a92t9c244dc46fb12f2cefo3e03\";\r\n\r\nfunction searchCity(city) {\r\n  let apiUrl = `https://api.shecodes.io/weather/v1/current?query=${city}&key=${apiKey}`;\r\n  console.log(apiUrl)\r\n\r\n  axios.get(apiUrl).then(showWeather);\r\n}\r\n\r\nfunction formatDay(timestamp){\r\n  let date = new Date(timestamp * 1000);\r\n  let days = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\r\n  let day = days[date.getDay()];\r\n\r\n  return day;\r\n}\r\n\r\nfunction displayForecast(response){\r\n  let forecastElement = document.getElementById(\"forecast\");\r\n  let forecast = response.data.daily;\r\n  let forecastHtml = \"<div>\";\r\n\r\n  forecast.forEach(function (forecastDay, index) {\r\n    if (index < 5){\r\n      forecastHtml += `\r\n  <ul>\r\n    <li class=\"forecast-day\">${formatDay(forecastDay.time)}</li>\r\n    <li class=\"forecast-icon\"><img src=\"http://shecodes-assets.s3.amazonaws.com/api/weather/icons/${\r\n      forecastDay.condition.icon\r\n    }.png\" alt=\"forecastDay.condition.description\">\r\n    </li>\r\n    <li class=\"forecast-temperature\">\r\n      <span class=\"min-temperature\">${Math.round(\r\n        forecastDay.temperature.minimum\r\n      )}</span>°\r\n      <span class=\"max-temperature\">${Math.round(\r\n        forecastDay.temperature.maximum\r\n      )}</span>°\r\n    </li>\r\n  </ul>\r\n  `;\r\n    }\r\n    \r\n  });\r\n  forecastHtml += \"</div>\";\r\n  forecastElement.innerHTML = forecastHtml;\r\n}\r\n\r\nfunction getForecast(coordinates){\r\n  let apiUrl = `https://api.shecodes.io/weather/v1/forecast?lon=${coordinates.longitude}&lat=${coordinates.latitude}&key=${apiKey}`;\r\n\r\n  axios.get(apiUrl).then(displayForecast)\r\n\r\n}\r\n\r\n\r\nfunction showWeather(response) {\r\n  document.querySelector(\"#city\").innerHTML = response.data.city;\r\n  temperature = Math.round(response.data.temperature.current);\r\n  document.querySelector(\"#temperature\").innerHTML = temperature;\r\n  let icon = response.data.condition.icon;\r\n  let description =  response.data.condition.description;\r\n  document.querySelector(\r\n    \"#weather-icon\"\r\n  ).innerHTML = `<img src=\"http://shecodes-assets.s3.amazonaws.com/api/weather/icons/${icon}.png\" alt=\"${description}\" id=\"weather-icon\">`;\r\n  document.querySelector(\"#humidity\").innerHTML = response.data.temperature.humidity;\r\n  document.querySelector(\"#wind\").innerHTML = Math.round(\r\n    response.data.wind.speed\r\n  );\r\n  document.querySelector(\"#description\").innerHTML = description;\r\n\r\n  getForecast(response.data.coordinates);\r\n}\r\n\r\nfunction showCity(event) {\r\n  event.preventDefault();\r\n  let city = document.querySelector(\"#search-input\").value;\r\n\r\n  searchCity(city);\r\n}\r\n\r\nfunction getThisPosition() {\r\n  navigator.geolocation.getCurrentPosition((position) => {\r\n    let apiUrl = `https://api.shecodes.io/weather/v1/current?lon=${position.coords.longitude}&lat=${position.coords.latitude}&key=${apiKey}&units=metric`;\r\n\r\n    axios.get(apiUrl).then(showWeather);\r\n  });\r\n}\r\n\r\nlet fahrenheit = document.querySelector(\"#fahrenheit\");\r\nfahrenheit.addEventListener(\"click\", function (event) {\r\n  event.preventDefault();\r\n  let celsiusToFahrenheit = document.querySelector(\"#temperature\");\r\n  celsiusToFahrenheit.innerHTML = Math.round((temperature * 9) / 5 + 32);\r\n  fahrenheit.classList.add(\"active\");\r\n  celsius.classList.remove(\"active\");\r\n});\r\n\r\nlet celsius = document.querySelector(\"#celsius\");\r\ncelsius.addEventListener(\"click\", function (event) {\r\n  event.preventDefault();\r\n  document.querySelector(\"#temperature\").innerHTML = temperature;\r\n  fahrenheit.classList.remove(\"active\");\r\n  celsius.classList.add(\"active\");\r\n});\r\n\r\nlet temperature = null;\r\nlet date = new Date();\r\nlet hour = date.getHours();\r\nif (hour < 12) {\r\n  document.getElementById(\"day-time\").innerHTML = \"AM\";\r\n} else if (hour === 12) {\r\n  document.getElementById(\"day-time\").innerHTML = \"PM\";\r\n}\r\nlet minute = date.getMinutes();\r\nif (minute < 10) {\r\n  minute = `0${minute}`;\r\n}\r\nlet fullTime = `${hour}:${minute}`;\r\n\r\nlet form = document.querySelector(\"form\");\r\nform.addEventListener(\"submit\", showCity);\r\n\r\ndocument.querySelector(\"#day\").innerHTML = date.toLocaleDateString(\"en-EN\", {\r\n  weekday: \"long\",\r\n});\r\ndocument.querySelector(\"#time\").innerHTML = fullTime;\r\n\r\n// DEFAULT LOCATION\r\ngetThisPosition();\r\n"],"file":"index.dev.js"}